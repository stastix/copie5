{% extends 'base-back.html.twig' %}  
{% block body %}

{% for message in app.flashes('success') %}
    <div class="alert alert-success">
        {{ message }}
    </div>
{% endfor %}
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-90680653-2"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-90680653-2');
</script>

<div class="container mt-4">
    <h1>Requests List</h1>

    <table class="table table-sm">
        <thead>
            <tr>
                <th>User Name</th>
                <th>Destination</th>
                <th>Type</th>
                <th>Duration</th>
                <th>Description</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for demande in demands %}
                <tr>
                    <td>{{ demande.UseName.nom }}</td>
                    <td>{{ demande.destination }}</td>
                    <td>{{ demande.type }}</td>
                    <td>{{ demande.duration }}</td>
                    <td>{{ demande.description }}</td>
                    <td>
                        <a href="{{ path('send_sms', {'id': demande.id}) }}" class="btn btn-success btn-sm">Accept</a>
                    </td>
                </tr>
            {% else %}
                <tr>
                    <td colspan="6">No records found</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

{% endblock %}
